(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{2252:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return r(435)}])},435:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return search}});var a=r(5893),t=r(498),l=r(5675),c=r.n(l),n=r(1163),i=r(7294),d=r(9583),Search_SearchGridItem=function(e){let{gig:s}=e,r=(0,n.useRouter)();return(0,a.jsxs)("div",{className:"max-w-[300px] flex flex-col gap-2 p-1 cursor-pointer mb-8",onClick:()=>r.push("/gig/".concat(s.id)),children:[(0,a.jsx)("div",{className:"relative w-64 h-40",children:(0,a.jsx)(c(),{src:"".concat(t.eG,"/").concat(s.images[0]),alt:"gig",fill:!0,className:"rounded-xl"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{children:s.createdBy.profileImage?(0,a.jsx)(c(),{src:t.M5+"/"+s.createdBy.profileImage,alt:"profile",height:30,width:30,className:"rounded-full"}):(0,a.jsx)("div",{className:"bg-purple-500 h-7 w-7 flex items-center justify-center rounded-full relative",children:(0,a.jsx)("span",{className:"text-lg text-white",children:s.createdBy.email[0].toUpperCase()})})}),(0,a.jsx)("span",{className:"text-md ",children:(0,a.jsx)("strong",{className:"font-medium",children:s.createdBy.username})})]}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"line-clamp-2 text-[#404145]",children:s.title})}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,a.jsx)(d.QJe,{}),(0,a.jsx)("span",{children:(0,a.jsx)("strong",{className:"font-medium",children:(()=>{let{reviews:e}=s,r=0;return(null==e?void 0:e.length)?(null==e||e.forEach(e=>{r+=e.rating}),(r/e.length).toFixed(1)):0})()})}),(0,a.jsxs)("span",{className:"text-[#74767e]",children:["(",s.reviews.length,")"]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("strong",{className:"font-medium",children:["From Rs",s.price]})})]})},o=r(7066),search=function(){let e=(0,n.useRouter)(),{category:s,q:r}=e.query,[l,c]=(0,i.useState)(void 0);return(0,i.useEffect)(()=>{let getData=async()=>{try{let{data:{gigs:e}}=await o.Z.get("".concat(t.G8,"?searchTerm=").concat(r,"&category=").concat(s));c(e)}catch(e){console.error(e)}};(s||r)&&getData()},[s,r]),(0,a.jsx)(a.Fragment,{children:l&&(0,a.jsxs)("div",{className:"mx-24 mb-24",children:[r&&(0,a.jsxs)("h3",{className:"text-4xl mb-10",children:["Results for ",(0,a.jsx)("strong",{children:r})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{className:"py-3 px-5 border border-gray-400 rounded-lg font-medium",children:"Category"}),(0,a.jsx)("button",{className:"py-3 px-5 border border-gray-400 rounded-lg font-medium",children:"Budget"}),(0,a.jsx)("button",{className:"py-3 px-5 border border-gray-400 rounded-lg font-medium",children:"Delivery Time"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"my-4",children:(0,a.jsxs)("span",{className:"text-[#74767e] font-medium ",children:[l.length," services available"]})}),(0,a.jsx)("div",{className:"grid grid-cols-4",children:l.map(e=>(0,a.jsx)(Search_SearchGridItem,{gig:e},e.id))})]})]})})}}},function(e){e.O(0,[445,774,888,179],function(){return e(e.s=2252)}),_N_E=e.O()}]);