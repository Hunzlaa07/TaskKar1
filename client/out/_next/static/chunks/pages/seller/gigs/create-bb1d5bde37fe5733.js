(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[697],{7486:function(e,r,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/seller/gigs/create",function(){return l(1525)}])},2279:function(e,r,l){"use strict";var s=l(5893),t=l(5675),a=l.n(t),i=l(7294);r.Z=function(e){let{files:r,setFile:l}=e,{useState:t}=i,[n,c]=t(),removeImage=e=>{l(r.filter(r=>r.name!==e))};return(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"flex  items-center px-3",children:(0,s.jsx)("div",{className:"rounded-lg  bg-gray-50 w-full",children:(0,s.jsxs)("div",{className:"m-4",children:[(0,s.jsx)("span",{className:"flex justify-center items-center text-[12px] mb-1 text-red-500",children:n}),(0,s.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,s.jsxs)("label",{className:"flex cursor-pointer flex-col w-full h-32 border-2 rounded-md border-dashed hover:bg-gray-100 hover:border-gray-300",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center pt-7",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 text-gray-400 group-hover:text-gray-600",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),(0,s.jsx)("p",{className:"pt-1 text-sm tracking-wider text-gray-400 group-hover:text-gray-600",children:"Select a photo"})]}),(0,s.jsx)("input",{type:"file",onChange:e=>{c("");let s=e.target.files;for(let e=0;e<s.length;e++){let t=s[e].type,a=["image/gif","image/jpeg","image/png"];a.includes(t)?l([...r,s[e]]):c("only images accepted")}},className:"opacity-0",multiple:!0,name:"files[]"})]})}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:r.map((e,r)=>(0,s.jsxs)("div",{className:"overflow-hidden relative",children:[(0,s.jsx)("i",{onClick:()=>{removeImage(e.name)},className:"mdi mdi-close absolute right-1 hover:text-white cursor-pointer z-20",children:"X"}),(0,s.jsx)("div",{className:"relative h-20 w-20 rounded-md",children:(0,s.jsx)(a(),{src:URL.createObjectURL(e),fill:!0,alt:"Gigs"})})]},r))})]})})})})}},1525:function(e,r,l){"use strict";l.r(r);var s=l(5893),t=l(2279),a=l(8828),i=l(498),n=l(7066),c=l(1163),d=l(7294),o=l(461);r.default=function(){let[e]=(0,o.Z)(),r=(0,c.useRouter)(),l="block p-4 w-full text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-green-500 focus:border-green-500",h="mb-2 text-lg font-medium text-green-700",[m,g]=(0,d.useState)([]),[x,u]=(0,d.useState)([]),[p,f]=(0,d.useState)({title:"",category:"",description:"",time:0,revisions:0,feature:"",price:0,shortDesc:""}),removeFeature=e=>{let r=[...x];r.splice(e,1),u(r)},handleChange=e=>{f({...p,[e.target.name]:e.target.value})},addGig=async()=>{let{category:l,description:s,price:t,revisions:a,time:c,title:d,shortDesc:o}=p;if(l&&s&&d&&x.length&&m.length&&t>0&&o.length&&a>0&&c>0){let h=new FormData;m.forEach(e=>h.append("images",e));try{let m=await n.Z.post(i.iX,h,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(e.jwt)},params:{title:d,description:s,category:l,features:x,price:t,revisions:a,time:c,shortDesc:o}});201===m.status&&r.push("/seller/gigs")}catch(e){console.error("Failed to create gig:",e.message)}}};return(0,s.jsxs)("div",{className:"min-h-[80vh] my-10 mt-0 px-32 ",children:[(0,s.jsx)("h1",{className:"text-6xl text-green-700 mb-5 font-bold",children:"Create a new Gig"}),(0,s.jsx)("h3",{className:"text-3xl text-green-700 mb-5",children:"Enter the details to create the gig"}),(0,s.jsxs)("form",{action:"",className:"flex flex-col gap-5 mt-10",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-11",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"title",className:h,children:"Gig Title"}),(0,s.jsx)("input",{name:"title",value:p.title,onChange:handleChange,type:"text",id:"title",className:l,placeholder:"e.g. I will do something I'm really good at",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"categories",className:h,children:"Select a Category"}),(0,s.jsx)("select",{id:"categories",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-4",name:"category",onChange:handleChange,defaultValue:"Choose a Category",children:a.b.map(e=>{let{name:r}=e;return(0,s.jsx)("option",{value:r,children:r},r)})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"description",className:h,children:"Gig Description"}),(0,s.jsx)("textarea",{id:"description",className:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500",placeholder:"Write a short description",name:"description",value:p.description,onChange:handleChange})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-11",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"delivery",children:"Delivery Time"}),(0,s.jsx)("input",{type:"number",className:l,id:"delivery",name:"time",value:p.time,onChange:handleChange,placeholder:"Minimum Delivery Time"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"revision",className:h,children:"Revisions"}),(0,s.jsx)("input",{type:"number",id:"revision",className:l,placeholder:"Max Number of Revisions",name:"revisions",value:p.revisions,onChange:handleChange})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-11",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"features",className:h,children:"Features"}),(0,s.jsxs)("div",{className:"flex gap-3 items-center mb-5",children:[(0,s.jsx)("input",{type:"text",id:"features",className:l,placeholder:"Enter a Feature Name",name:"feature",value:p.feature,onChange:handleChange}),(0,s.jsx)("button",{type:"button",className:"focus:outline-none text-white bg-blue-700 hover:bg-blue-800  font-medium  text-lg px-10 py-3 rounded-md ",onClick:()=>{p.feature&&(u([...x,p.feature]),f({...p,feature:""}))},children:"Add"})]}),(0,s.jsx)("ul",{className:"flex gap-2 flex-wrap",children:x.map((e,r)=>(0,s.jsxs)("li",{className:"flex gap-2 items-center py-2.5 px-5 mr-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-red-700 cursor-pointer hover:border-red-200",children:[(0,s.jsx)("span",{children:e}),(0,s.jsx)("span",{className:"text-red-700",onClick:()=>removeFeature(r),children:"X"})]},e+r.toString()))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"image",className:h,children:"Gig Images"}),(0,s.jsx)("div",{children:(0,s.jsx)(t.Z,{files:m,setFile:g})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-11",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"shortDesc",className:h,children:"Short Description"}),(0,s.jsx)("input",{type:"text",className:"".concat(l," w-1/5"),id:"shortDesc",placeholder:"Enter a short description.",name:"shortDesc",value:p.shortDesc,onChange:handleChange})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"price",className:h,children:"Gig Price ( Rs. )"}),(0,s.jsx)("input",{type:"number",className:"".concat(l," w-1/5"),id:"price",placeholder:"Enter a price",name:"price",value:p.price,onChange:handleChange})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"border   text-lg font-semibold px-5 py-3   border-[#1DBF73] bg-[#1DBF73] text-white rounded-md",type:"button",onClick:addGig,children:"Create"})})]})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=7486)}),_N_E=e.O()}]);