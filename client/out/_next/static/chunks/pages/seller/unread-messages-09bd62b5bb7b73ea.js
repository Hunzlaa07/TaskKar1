(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[987],{3699:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/seller/unread-messages",function(){return a(3295)}])},3295:function(e,s,a){"use strict";a.r(s);var t=a(5893),r=a(2586),l=a(498),n=a(7066),c=a(1664),d=a.n(c),i=a(7294);s.default=function(){let[{userInfo:e}]=(0,r.C4)(),[s,a]=(0,i.useState)([]);(0,i.useEffect)(()=>{let getUnreadMessages=async()=>{let{data:{messages:e}}=await n.Z.get(l.bw,{withCredentials:!0});a(e)};e&&getUnreadMessages()},[e]);let markAsRead=async e=>{let t=await n.Z.put("".concat(l.jf,"/").concat(e),{},{withCredentials:!0});if(200===t.status){let t=[...s],r=t.findIndex(s=>s.id===e);t.splice(r,1),a(t)}};return(0,t.jsxs)("div",{className:"min-h-[80vh] my-10 mt-0 px-32",children:[(0,t.jsx)("h3",{className:"m-5 text-2xl font-semibold",children:"All your Unread Messages"}),(0,t.jsx)("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:(0,t.jsxs)("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[(0,t.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Text"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Sender Name"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Order Id"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Mark as Read"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3",children:"View Conversation"})]})}),(0,t.jsx)("tbody",{children:s.map(e=>{var s;return(0,t.jsxs)("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50",children:[(0,t.jsx)("th",{scope:"row",className:"px-6 py-4 ",children:null==e?void 0:e.text}),(0,t.jsx)("th",{scope:"row",className:"px-6 py-4 ",children:null==e?void 0:null===(s=e.sender)||void 0===s?void 0:s.fullName}),(0,t.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium",children:e.orderId}),(0,t.jsx)("td",{className:"px-6 py-4 ",children:(0,t.jsx)(d(),{href:"#",onClick:s=>{s.preventDefault(),markAsRead(e.id)},className:"font-medium text-blue-600  hover:underline",children:"Mark as Read"})}),(0,t.jsx)("td",{className:"px-6 py-4 ",children:(0,t.jsx)(d(),{href:"/seller/orders/messages/".concat(e.orderId),className:"font-medium text-blue-600  hover:underline",children:"View"})})]},e.text)})})]})})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3699)}),_N_E=e.O()}]);