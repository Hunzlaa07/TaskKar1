(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[471],{3386:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gig/[gigId]",function(){return t(2357)}])},2357:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return _gigId_}});var l=t(5893),a=t(7294),i=t(6893),r=t(7516),c=t(3750),n=t(2586),d=t(1163),Gigs_Pricing=function(){let[{gigData:e,userInfo:s},t]=(0,n.C4)(),a=(0,d.useRouter)();return(0,l.jsx)(l.Fragment,{children:e&&(0,l.jsxs)("div",{className:"sticky top-36 mb-10 h-max w-96",children:[(0,l.jsxs)("div",{className:"border p-10 flex flex-col gap-5",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("h4",{className:"text-md font-normal text-[#74767e]",children:e.shortDesc}),(0,l.jsxs)("h6",{className:"font-medium text-lg",children:["Rs",e.price]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-[#62646a] font-semibold text-sm flex gap-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(i.TCC,{className:"text-xl"}),(0,l.jsxs)("span",{children:[e.deliveryTime," Days Delivery"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(i.Qxo,{className:"text-xl"}),(0,l.jsxs)("span",{children:[e.revisions," Revisions"]})]})]}),(0,l.jsx)("ul",{})]}),(0,l.jsx)("ul",{className:"flex gap-1 flex-col",children:e.features.map(e=>(0,l.jsxs)("li",{className:"flex items-center gap-3",children:[(0,l.jsx)(c.IQF,{className:"text-[#1DBF73] text-lg"}),(0,l.jsx)("span",{className:"text-[#4f5156]",children:e})]},e))}),e.userId===s.id?(0,l.jsxs)("button",{className:"flex items-center bg-[#1DBF73] text-white py-2 justify-center font-bold text-lg relative rounded",onClick:()=>a.push("/seller/gigs/".concat(e.id)),children:[(0,l.jsx)("span",{children:"Edit"}),(0,l.jsx)(r.OEZ,{className:"text-2xl absolute right-4"})]}):(0,l.jsxs)("button",{className:"flex items-center bg-[#1DBF73] text-white py-2 justify-center font-bold text-lg relative rounded",onClick:()=>a.push("/checkout?gigId=".concat(e.id)),children:[(0,l.jsx)("span",{children:"Continue"}),(0,l.jsx)(r.OEZ,{className:"text-2xl absolute right-4"})]})]}),e.userId!==s.id&&(0,l.jsx)("div",{className:"flex items-center justify-center mt-5",children:(0,l.jsx)("button",{className:" w-5/6 hover:bg-[#74767e] py-1 border border-[#74767e] px-5 text-[#6c6d75] hover:text-white transition-all duration-300 text-lg rounded font-bold",children:"Contact Me"})})]})})},x=t(5675),o=t.n(x),h=t(3764),m=t(498),g=t(7066),f=t(9583),Gigs_AddReview=function(){let[{},e]=(0,n.C4)(),[s,t]=(0,a.useState)({reviewText:"",rating:0}),i=(0,d.useRouter)(),{gigId:r}=i.query,addReview=async()=>{try{let l=await g.Z.post("".concat(m.U7,"/").concat(r),{...s},{withCredentials:!0});201===l.status&&(t({reviewText:"",rating:0}),e({type:h.J.ADD_REVIEW,newReview:l.data.newReview}))}catch(e){console.error(e)}};return(0,l.jsxs)("div",{className:"mb-10",children:[(0,l.jsx)("h3",{className:"text-2xl my-5 font-normal   text-[#404145]",children:"Would you like to give a Review?"}),(0,l.jsxs)("div",{className:"flex  flex-col  items-start justify-start gap-3",children:[(0,l.jsx)("textarea",{name:"reviewText",id:"reviewText",onChange:e=>t({...s,reviewText:e.target.value}),value:s.reviewText,className:"block p-2.5 w-4/6 text-sm text-gray-900 bg-gray-50 rounded border border-gray-300 focus:ring-blue-500 focus:border-blue-500 ",placeholder:"Add Review"}),(0,l.jsx)("div",{className:"flex gap-1",children:[1,2,3,4,5].map(e=>(0,l.jsx)(f.QJe,{className:"cursor-pointer ".concat(s.rating>=e?"text-yellow-400":"text-gray-300"),onClick:()=>t({...s,rating:e})},e))}),(0,l.jsx)("button",{className:"flex items-center bg-[#1DBF73] text-white py-2 justify-center text-md relative rounded px-5",onClick:addReview,children:"Add Review"})]})]})},Gigs_Reviews=function(){let[{gigData:e}]=(0,n.C4)(),[s,t]=(0,a.useState)("0");return(0,a.useEffect)(()=>{if(e&&e.reviews.length){let s=0;e.reviews.forEach(e=>{let{rating:t}=e;return s+=t}),t((s/e.reviews.length).toFixed(1))}},[e]),(0,l.jsx)(l.Fragment,{children:e&&(0,l.jsxs)("div",{className:"mb-10",children:[(0,l.jsx)("h3",{className:"text-2xl my-5 font-normal text-[#404145] ",children:"Reviews"}),(0,l.jsxs)("div",{className:"flex gap-3 mb-5",children:[(0,l.jsxs)("h5",{children:[e.reviews.length," reviews for this Gig"]}),(0,l.jsxs)("div",{className:"flex text-yellow-500 items-center gap-2",children:[(0,l.jsx)("div",{className:"flex gap-1",children:[1,2,3,4,5].map(e=>(0,l.jsx)(f.QJe,{className:"cursor-pointer ".concat(Math.ceil(s)>=e?"text-yellow-400":"text-gray-300")},e))}),(0,l.jsx)("span",{children:s})]})]}),(0,l.jsx)("div",{className:"flex flex-col gap-6",children:e.reviews.map(e=>(0,l.jsxs)("div",{className:"flex gap-3 border-t pt-6",children:[(0,l.jsx)("div",{children:e.reviewer.profileImage?(0,l.jsx)(o(),{src:m.M5+"/"+e.reviewer.profileImage,alt:"Profile",width:40,height:40,className:"rounded-full"}):(0,l.jsx)("div",{className:"bg-purple-500 h-10 w-10 flex items-center justify-center rounded-full relative",children:(0,l.jsx)("span",{className:"text-xl text-white",children:e.reviewer.email[0].toUpperCase()})})}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("h4",{children:e.reviewer.fullName}),(0,l.jsxs)("div",{className:"flex text-yellow-500 items-center gap-2",children:[(0,l.jsx)("div",{className:"flex gap-1",children:[1,2,3,4,5].map(s=>(0,l.jsx)(f.QJe,{className:"cursor-pointer ".concat(e.rating>=s?"text-yellow-400":"text-gray-300")},s))}),(0,l.jsx)("span",{children:e.rating})]}),(0,l.jsx)("p",{className:"text-[#404145] pr-20",children:e.reviewText})]})]},e.id))})]})})},Gigs_Details=function(){let[{gigData:e,hasOrdered:s}]=(0,n.C4)(),[t,i]=(0,a.useState)("");(0,a.useEffect)(()=>{e&&i(e.images[0])},[e]);let[r,c]=(0,a.useState)("0");return(0,a.useEffect)(()=>{if(e&&e.reviews.length){let s=0;e.reviews.forEach(e=>{let{rating:t}=e;return s+=t}),c((s/e.reviews.length).toFixed(1))}},[e]),(0,l.jsx)(l.Fragment,{children:e&&""!==t&&(0,l.jsxs)("div",{className:"col-span-2 flex flex-col gap-3",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-[#404145] mb-1",children:e.title}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{children:e.createdBy.profileImage?(0,l.jsx)(o(),{src:m.M5+"/"+e.createdBy.profileImage,alt:"profile",height:30,width:30,className:"rounded-full"}):(0,l.jsx)("div",{className:"bg-purple-500 h-10 w-10 flex items-center justify-center rounded-full relative",children:(0,l.jsx)("span",{className:"text-xl text-white",children:e.createdBy.email[0].toUpperCase()})})}),(0,l.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,l.jsx)("h4",{className:"text-[#27272a] font-bold",children:e.createdBy.fullName}),(0,l.jsxs)("h6",{className:"text-[#74767e]",children:["@",e.createdBy.username]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{className:"flex",children:[1,2,3,4,5].map(e=>(0,l.jsx)(f.QJe,{className:"cursor-pointer ".concat(Math.ceil(r)>=e?"text-yellow-400":"text-gray-300")},e))}),(0,l.jsx)("span",{className:"text-yellow-500",children:r}),(0,l.jsxs)("span",{className:"text-[#27272a]",children:["(",e.reviews.length,")"]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsx)("div",{className:"max-h-[1000px] max-w-[1000px] overflow-hidden",children:(0,l.jsx)(o(),{src:m.M5+"/uploads/"+t,alt:"Gig",height:1e3,width:1e3,className:"hover:scale-110 transition-all duration-500"})}),(0,l.jsx)("div",{className:"flex gap-4 flex-wrap",children:e.images.length>1&&e.images.map(e=>(0,l.jsx)(o(),{src:m.M5+"/uploads/"+e,alt:"gig",height:100,width:100,onClick:()=>i(e),className:"".concat(t===e?"":"blur-sm"," cursor-pointer transition-all duration-500")},e))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-3xl my-5 font-medium text-[#404145]",children:"About this gig"}),(0,l.jsx)("div",{children:(0,l.jsx)("p",{children:e.description})})]}),(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("h3",{className:"text-3xl my-5 font-medium text-[#404145]",children:"About the Seller"}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)("div",{children:e.createdBy.profileImage?(0,l.jsx)(o(),{src:m.M5+"/"+e.createdBy.profileImage,alt:"profile",height:120,width:120,className:"rounded-full"}):(0,l.jsx)("div",{className:"bg-purple-500 h-10 w-10 flex items-center justify-center rounded-full relative",children:(0,l.jsx)("span",{className:"text-xl text-white",children:e.createdBy.email[0].toUpperCase()})})}),(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsxs)("div",{className:"flex  gap-2 items-center",children:[(0,l.jsx)("h4",{className:"font-medium text-lg",children:e.createdBy.fullName}),(0,l.jsxs)("span",{className:"text-[#74767e]",children:["@",e.createdBy.username]})]}),(0,l.jsx)("div",{children:(0,l.jsx)("p",{children:e.createdBy.description})}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{className:"flex text-yellow-500",children:[1,2,3,4,5].map(s=>(0,l.jsx)(f.QJe,{className:"cursor-pointer ".concat(Math.ceil(e.averageRating)>=s?"text-yellow-400":"text-gray-300")},s))}),(0,l.jsx)("span",{className:"text-yellow-500",children:e.averageRating}),(0,l.jsxs)("span",{className:"text-[#74767e]",children:["(",e.totalReviews,")"]})]})]})]})]}),(0,l.jsx)(Gigs_Reviews,{}),s&&(0,l.jsx)(Gigs_AddReview,{})]})})},_gigId_=function(){let e=(0,d.useRouter)(),{gigId:s}=e.query,[{gigData:t,userInfo:i},r]=(0,n.C4)();return(0,a.useEffect)(()=>{r({type:h.J.SET_GIG_DATA,gigData:void 0})},[r]),(0,a.useEffect)(()=>{let fetchGigData=async()=>{try{let{data:{gig:e}}=await g.Z.get("".concat(m.bs,"/").concat(s));r({type:h.J.SET_GIG_DATA,gigData:e})}catch(e){console.log(e)}};s&&fetchGigData()},[s,r]),(0,a.useEffect)(()=>{let checkGigOrdered=async()=>{let{data:{hasUserOrderedGig:e}}=await g.Z.get("".concat(m.k3,"/").concat(s),{withCredentials:!0});r({type:h.J.HAS_USER_ORDERED_GIG,hasOrdered:e})};i&&checkGigOrdered()},[r,s,i]),(0,l.jsxs)("div",{className:"grid grid-cols-3 mx-32 gap-20",children:[(0,l.jsx)(Gigs_Details,{}),(0,l.jsx)(Gigs_Pricing,{})]})}}},function(e){e.O(0,[13,445,874,774,888,179],function(){return e(e.s=3386)}),_N_E=e.O()}]);